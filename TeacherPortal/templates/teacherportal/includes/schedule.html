<div id='calendar'>

</div>
<script>
$(function() {
    let schedules = ({{ schedules|safe }});
    let events = [];
    for (i = 0; i < schedules.length; i++) {
        schedule = schedules[i]
        events[i] = {
            'title': schedule.course.name,
            'start': schedule.day + 'T' + schedule.begin_time,
            'end': schedule.day + 'T' + schedule.end_time,
            'href': '{{ BASE_URL_W_TRAILING_SLASH  }}teacherportal/attendance_summary/' + schedule['id'] + '/'

        }
    }
    // page is now ready, initialize the calendar...

    $('#calendar').fullCalendar({
        'weekends': false,
        'defaultView': 'agendaWeek',
        'minTime': '08:00:00',
        'maxTime': '18:00:00',
        'height': 'auto',
        'slotLabelFormat': 'HH:mm',
        'events': events,
        eventClick: function(calEvent, jsEvent, view) {
            window.location = calEvent.href;
        }
    })

});
</script>